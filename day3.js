const INPUT = {b:".##.#.........#.....#....#...#.\n" +
        ".#.#.#...#.......#.............\n" +
        "......#..#....#.#...###.......#\n" +
        ".......###......#.....#..##..#.\n" +
        "..#...##.......#.......###.....\n" +
        "....###.#....###......#....#..#\n" +
        "......#..#....#...##...........\n" +
        "..#..#....#...#.....####.......\n" +
        "...#........#.#.......#..#...#.\n" +
        "......#...#........#...#..##...\n" +
        "#..#........#............#...##\n" +
        "..#..#.#....#...........#...###\n" +
        "#.#..#...........#.##.#.#....#.\n" +
        ".#.#....#...##.....#...........\n" +
        ".....##....#...#..............#\n" +
        "...#....#...#.#.#.#...#........\n" +
        "#....#....#.#.#..#....#..#..#..\n" +
        ".................#..#.....#....\n" +
        "#..###...#.#..#.#......#.......\n" +
        "...#..........#......#....#....\n" +
        ".#.#.........##..#.......#...#.\n" +
        ".#..........#...#..#...........\n" +
        "....##.#.......................\n" +
        ".......#...........#...#.......\n" +
        "...#...#..##...#....###..#....#\n" +
        "....#.#.....##...##.#.#........\n" +
        "...........#.#..#.#......#..#..\n" +
        ".....#.....#....#...#........#.\n" +
        "..#......#..#.........#.....#..\n" +
        ".........................#...#.\n" +
        "#...#...#....#........##....#..\n" +
        "#..#.#.............#..........#\n" +
        ".#.........#.....#..#.#.#..#.#.\n" +
        "#...#..#.......####.#....##....\n" +
        "##...##..#.#.#...#.#.....#..#.#\n" +
        ".#..#....#.##........#...#....#\n" +
        "#...#..##.#....##..#..#.#......\n" +
        ".#........#.....#.#....##.##.#.\n" +
        "...#...#........#..#.##.##.....\n" +
        "....................#.#.#.#...#\n" +
        "..####.#..##...#....#.....##...\n" +
        "#......#.....#.#......#.#..#.##\n" +
        "..#.....#..#...........##.#....\n" +
        "#....#........#............#...\n" +
        "..##....#..............#......#\n" +
        "..#......#.#.......####......#.\n" +
        "..............##....#....##.#..\n" +
        ".#...............#....#....#.#.\n" +
        "..#.#.#..#.......##.#..........\n" +
        ".#...#.......#.#....#.##.......\n" +
        ".....#.##...#...........#.#....\n" +
        "..#.#..#...#..##...#.#.......##\n" +
        ".#.....#....#.#......#.#.......\n" +
        "....##.........#.#.............\n" +
        ".......##.......#..............\n" +
        "..........#......#......#....##\n" +
        "..##.....#..#.#..........#.....\n" +
        "...#....#.......#....##........\n" +
        ".......#...........#...........\n" +
        "...#.#......#.#........#....#..\n" +
        ".....#...........#.#.#...#.#..#\n" +
        ".#.#...#.#.#..........#.....###\n" +
        "#........#...#.................\n" +
        "...##.....#.....#..#..#.......#\n" +
        "......##...........#..#....##..\n" +
        ".........#............##...#...\n" +
        ".....#.....##...##.............\n" +
        ".#....#..#.#.#.#...#..#..#.....\n" +
        ".....#..#.#..#....#..#.........\n" +
        "....#.....#......#...#.........\n" +
        "#..#..#.................#......\n" +
        ".###.....#...#.#........##.#...\n" +
        "..#...#....#.##..#.....#.#....#\n" +
        "..#...##.................#.#...\n" +
        "....##..........#..#..#..#....#\n" +
        "....#..##....##.....#.#....#...\n" +
        ".#.#.#.....##........#.##..##.#\n" +
        "....#..#......#..#........#....\n" +
        ".......#.....###.#....#.......#\n" +
        "#....#.......#......##.#.......\n" +
        ".##.#.........#.#..##..#....##.\n" +
        "......#........#.#....#...#....\n" +
        ".####.....#.........#.#......##\n" +
        "##....#......#....#..#.#....##.\n" +
        "...........###.#.....#..#......\n" +
        ".......#...........#...........\n" +
        "........###....#..#.#..........\n" +
        "....#........#......#..........\n" +
        ".........#......#..............\n" +
        "...#...............#......#...#\n" +
        "....#..##...#.........#...#....\n" +
        "##........#.#....#......###....\n" +
        "....#.......................#..\n" +
        "#................#.#..#......##\n" +
        "...#.#.....#...#...........#.##\n" +
        ".#....#.##......#...##.#....#..\n" +
        "#...#....#..............#..#..#\n" +
        ".......#....#.##............#.#\n" +
        ".....#.#.......#.#...#.........\n" +
        "...#.....#..##...##...#........\n" +
        "..#.......#..####..#..#...#....\n" +
        "#.#................##...##.#..#\n" +
        ".....#.....##.#.....#......#..#\n" +
        "....#.#...#.........#.........#\n" +
        "..#......#............#.....#..\n" +
        ".....#..........#.#..#..##...##\n" +
        "........#................#.#...\n" +
        "#...#.#....##...###...#.#......\n" +
        ".............##.#..##..........\n" +
        "#..#......#...........#......#.\n" +
        "#.#....#..........#.##....###..\n" +
        ".............#.........#....#..\n" +
        "#........#..#.#..#...#....#....\n" +
        "..............#..............##\n" +
        ".....#...#..............#.##...\n" +
        "#...##..#...........#..........\n" +
        "..#....#...#.#........#..#.#..#\n" +
        "..##......#...............#....\n" +
        "....#...#..###..#......###.#...\n" +
        ".......##..#.#........#....#...\n" +
        "..##...#.......#...#...........\n" +
        ".#.......#.....#.#...##..#....#\n" +
        ".............#.......#.#.#....#\n" +
        "#.......#..#..#...#.#......##..\n" +
        "#.##..#..#..#....##.#...###.#.#\n" +
        "...##...#..#..#........#.#..#..\n" +
        "#....##........................\n" +
        "##...#...#......#.#.....#..#...\n" +
        "......#............#....#......\n" +
        "#......#.......#.......##.#....\n" +
        "..................#..#..#.#....\n" +
        "..#..................##.#......\n" +
        "..##........#.#.....##..#..#.#.\n" +
        "#....#..............#....####..\n" +
        "#..#..........................#\n" +
        "..#.#.#.#....#.......#....#.#..\n" +
        ".....#.#........#..........#.#.\n" +
        "........#.....#.......#........\n" +
        "#.....#....#.###.....#.......#.\n" +
        ".....##.#...#.#..#...#.#.#.....\n" +
        "......##...#.#...##..........#.\n" +
        ".#............#.....#..#....#..\n" +
        ".#................#.#..#.......\n" +
        "....................##...##....\n" +
        "#.......##...#.....#..#........\n" +
        ".##....#.#.#.#...........#...#.\n" +
        "..#.#..#.#.........#...........\n" +
        "...#......#.....#...##.........\n" +
        "..........#.#.....###.#........\n" +
        ".............#.....##..........\n" +
        ".........#...####........#.####\n" +
        "...................#....#......\n" +
        ".....#.........#.#....#..#...#.\n" +
        ".##...#.......##.#...#.#.#..#..\n" +
        ".....##........#....#...#.##.#.\n" +
        "#...#...#.#....#..............#\n" +
        "#..#.##.............#..........\n" +
        "..#...#..#.#.##..............##\n" +
        "#......#.#...##..........#.##..\n" +
        ".##.#...#...#.........#.#......\n" +
        "......#........##.#..#.........\n" +
        "#..#.......#......#.#..#.#.....\n" +
        ".#..#...........#.#.##.....#...\n" +
        ".....................#..#.#....\n" +
        "........#...##......#.....##...\n" +
        "#.............#...##....##....#\n" +
        "#.#...........#....##.#......##\n" +
        ".....#.....#.#..........###..#.\n" +
        "....#...#....##....#..##.......\n" +
        ".#....#....#.......#.#.....#...\n" +
        ".#...#.......##...##........#..\n" +
        "......##.......#.##.#.###......\n" +
        "....##.......#......#..........\n" +
        "...................#..##.......\n" +
        "......................#...##...\n" +
        "...##....#.#..#..#.............\n" +
        ".#......##..........#...#......\n" +
        "....##..#....#..#...#...####.#.\n" +
        "...#.......#.......#........#.#\n" +
        "#.........#..#...#...##...#.#.#\n" +
        "....#...#.......#...#....#.....\n" +
        "...#.....#.##..##.#.......##.##\n" +
        ".......#....#........#.........\n" +
        ".....#...#....#..#....#....#...\n" +
        ".##....#...#........#...#.#...#\n" +
        ".......##............#..#...#..\n" +
        "#.#...#....#......#.#..........\n" +
        ".#.##...........#........#.....\n" +
        ".#....#.............#.#.##.....\n" +
        "#.......###..#...###.........#.\n" +
        "#..#.#.......#.........#...#..#\n" +
        "..........#......#........#...#\n" +
        ".#.#...#.##.......##...........\n" +
        ".....#.........#.....#.........\n" +
        ".........#.........#....##.#..#\n" +
        ".#.......##..##..#.....#...#...\n" +
        ".#.....##...#..#..............#\n" +
        "..##...#..#..#.#...#..........#\n" +
        ".#.......####......#......####.\n" +
        "##..##........#.....#........#.\n" +
        "..##.#..#.#....................\n" +
        "...........#..#...##....##.....\n" +
        "..#.#........#.........#....##.\n" +
        "..#...#..##..###.#..###........\n" +
        "......#..#.............#..##...\n" +
        ".##.........#.#..#...#.##.###..\n" +
        ".#...............#...........#.\n" +
        ".#....#........#....#........##\n" +
        "..#####.#.#..#.#........##...#.\n" +
        "###....#....#...#..............\n" +
        ".....#...##............#...#...\n" +
        "##...........##.#.##.....#.....\n" +
        "..............#..#.....#...#...\n" +
        "...................#...........\n" +
        "#..........##.........#........\n" +
        "...#.........#..#.....#..#..#..\n" +
        "....###.#......#......##....#..\n" +
        "#......#..........#...#........\n" +
        "...#.#...#..#..........##......\n" +
        ".....##.....#.#............##..\n" +
        "..#..#.###....#.#.#...##....#..\n" +
        "...#........#....##.......#....\n" +
        ".#.............#..##.......#...\n" +
        "..#.#..###..#.....#...##.......\n" +
        ".........#......##...#.#..#....\n" +
        ".............#....##....#.#....\n" +
        "#..#...#....#.#...#......##....\n" +
        ".............#.#......#.....###\n" +
        "#.##....#........#.............\n" +
        ".....#...#.####...#.....#......\n" +
        "....#....###....##.......#.....\n" +
        "..#....##..#....#.#.......#....\n" +
        "...#.....#....#.........#......\n" +
        ".#......#.#....#.#........#....\n" +
        ".......#......#.....#.#..#.....\n" +
        "#......#.........##.##.#...#...\n" +
        "..#.###...................#....\n" +
        "....#..#....##.#........#....#.\n" +
        "...........#..........#......#.\n" +
        ".#..#.#...###..........#..#...#\n" +
        "...#...##..#....#...#..........\n" +
        ".#........#.................##.\n" +
        "....#.......##....#...#........\n" +
        "#.#...##.##...#.#.......#...#..\n" +
        ".....#.#.##.#......#..#..##....\n" +
        ".....##...#.#.....#...#........\n" +
        "#.#.......#..#..........##.....\n" +
        "................#......#..#.#.#\n" +
        "#......#...#...................\n" +
        "...#.....##.#.........#.#..#..#\n" +
        "...#..##..##.......#....#......\n" +
        "....##...#....#..#...........#.\n" +
        "..#..#......#...#..#...........\n" +
        "...#.##....#...##.......#......\n" +
        ".......#....#..#..##..#..#....#\n" +
        ".#.................#.#...#.##..\n" +
        ".....#..................#..#.#.\n" +
        "...#......##...#...........#...\n" +
        "..#.........#....#..#...#.....#\n" +
        "..#...#.....#.........##.#.....\n" +
        ".....#.#....##...............#.\n" +
        "....#...#............#.........\n" +
        ".....#.....###............#....\n" +
        "..#.#.#.......#....#...........\n" +
        "...........##...##...#.......#.\n" +
        ".........###.#......#..........\n" +
        ".#.......#....#.....#.##..#...#\n" +
        "..#..................#..###....\n" +
        "..#....#...#......##.........#.\n" +
        "........#..#........#.........#\n" +
        ".#..#......#.........#.........\n" +
        "...#..##.....#....#....#.....#.\n" +
        "......#.#............###.....##\n" +
        ".......#........#.......#.#....\n" +
        "..#.............#..............\n" +
        ".............##..#.#.#....#....\n" +
        ".................#....#.#......\n" +
        "##..#.#.......#....#.....#.....\n" +
        ".##............##.#.......#.#..\n" +
        "#..#...........##......#.......\n" +
        ".##......#####..##.#....#.#....\n" +
        ".......##.....#...#........#...\n" +
        ".#.#.....##....#..#....#..#...#\n" +
        "............##.#.....##.#......\n" +
        "........##...###.#......#......\n" +
        "......#..#.#...#..#............\n" +
        ".........#...........#......#..\n" +
        ".#.........#............##.....\n" +
        ".#..#..#...#.#.............#...\n" +
        "......#.#..##...#.#...........#\n" +
        "#.##.......#...#.........#.....\n" +
        ".....#..#............#....##...\n" +
        ".#......#........#.............\n" +
        "..#...#....#..#.......###......\n" +
        "....#.......###.#.#...........#\n" +
        ".............#...##............\n" +
        ".##.#.#.#...........#...#....#.\n" +
        "............##.........#......#\n" +
        "...............#......#...#....\n" +
        "...#.....#..###..#...........#.\n" +
        ".#........#.....##........#.#..\n" +
        "....#.#.......#..#..#...##.#.#.\n" +
        ".......##...........#...#......\n" +
        "....#.#..##......#.......#.....\n" +
        "..#........#.#......#.#........\n" +
        "........#....#..#....#..##.....\n" +
        ".#.........##..........#.#.....\n" +
        "..##...##.....##......##..#....\n" +
        ".###.....##...........##.#...##\n" +
        "...#................#.......#..\n" +
        "#.......#.#.#..#.#.##..#...#...\n" +
        ".#.#.......#..#................\n" +
        "..#.#.#......#............#....\n" +
        "#.....#.###..#.#...#...........\n" +
        "#...........#..........#.#.#.##\n" +
        "..#.#...#......##.....#........\n" +
        "........#.......#.#...#...#....\n" +
        "..#..........#......###......#.\n" +
        "..........##.#....#.....#.##...\n" +
        "..#.....#......#.........#..##.\n" +
        ".#...#........#..#.#..#...##..#\n" +
        "..###........#......#.#........\n" +
        "..#.##.#....#.#....#.#...#....."}.b
 function treesForSlope(right, down){
    //let x=0,y=0;
    const field = INPUT.split("\n").map(line => line.split(''));
    const width = field[0].length;
    function isTree(x,y){
        return field[y][x] === "#";
    }
    function nextSpot(x,y){
        if (y+down >= field.length) return false;
        return [ mod(x+right,width), y+down]
    }
    let trees = 0;
    let spot = [0,0];
    while (spot){
        if (isTree(spot[0],spot[1])) trees++;
        spot = nextSpot(spot[0],spot[1]);
        //console.log(spot)
    }
    return trees;
}

function mod(a,n) {
    return ((a % n ) + n ) % n
}

function main(){
    console.log(treesForSlope(3,1));
    let prod = 1;
    for (const [r,d] of [[1,1],[3,1],[5,1],[7,1],[1,2]]){
        prod *= treesForSlope(r,d);
    }
    return prod
}

module.exports = main;
if (require.main === module) {
    main()
}

